(this.webpackJsonpmaps=this.webpackJsonpmaps||[]).push([[0],{28:function(n,e,t){n.exports={menu:"Menu_menu__-jgDa",menu_open:"Menu_menu_open__nPNzn",menu__close:"Menu_menu__close__7iIcx",menu__ul:"Menu_menu__ul__1eoc7",menu__li:"Menu_menu__li__2i9LY"}},29:function(n,e,t){n.exports={background:"Background_background__1QxV8",background_open:"Background_background_open__2Nlu7"}},30:function(n,e,t){n.exports={icon:"HamburgerButton_icon__WrUF4"}},33:function(n,e,t){n.exports={addButton:"AddButton_addButton__3XnP6"}},35:function(n,e,t){n.exports={login:"Login_login__11uRA",login__h1:"Login_login__h1__3Fngg",login__p:"Login_login__p__2OM6O",login__button:"Login_login__button__2NnKK",login__icon:"Login_login__icon__1O9U5"}},36:function(n,e,t){n.exports={routeWraper:"RouteWraper_routeWraper__2wuuY"}},44:function(n,e,t){},45:function(n,e,t){},53:function(n,e,t){"use strict";t.r(e);var c=t(2),o=t(1),a=t.n(o),r=t(16),i=t.n(r),s=(t(44),t(45),t(37)),u=t(9),l=t.n(u),j=t(28),p=t.n(j),b="Mapa",d="Dodaj z\u0142owienie",h="Zaloguj si\u0119 / Zarejestruj si\u0119",_="Regulamin",O="Polityka prywatno\u015bci",x="Wyloguj si\u0119",m="Witaj",f="Aby doda\u0107 z\u0142owion\u0105 ryb\u0119 i korzysta\u0107 z wi\u0119kszej ilo\u015b\u0107 funkcji, zaloguj si\u0119",g="Loguj\u0105c si\u0119 akcpetujesz polityk\u0119 prywatno\u015bci i regulamin",k="Login with Facebook",v=t(13),N=t(29),y=t.n(N),L=l()(y.a),w=function(n){var e=n.toggleMenu,t=n.onclick;return Object(c.jsx)("div",{className:L(null,{open:e}),onClick:t})},C=t(31),z=t(30),M=t.n(z),I=l()(M.a),T=function(n){var e=n.handleClick;return Object(c.jsx)(C.a,{onClick:function(){return e()},className:I()})},E=t(4),A=t(6),D=t(11),P=t(15),S=t.n(P),B=t(24),R=t(19),G=t.n(R),U=t(18);var W=Object(U.b)((function(n,e){switch(e.type){case"LOGIN":return n.isAuth=!0,n;case"LOGOUT":return n.isAuth=!1,n;default:return n}}),{isAuth:!1,isLoading:!0},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());function X(n){var e=function(){var n=Object(B.a)(S.a.mark((function n(){var e;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!G.a.get("token")){n.next=15;break}return n.prev=2,n.next=5,fetch("https://konrad-mleczko.herokuapp.com/",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});case 5:return e=n.sent,n.next=8,e.json();case 8:200===n.sent.status&&W.dispatch({type:"LOGIN"}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[2,12]])})));return function(){return n.apply(this,arguments)}}();return{handleLogIn:function(){var n=Object(B.a)(S.a.mark((function n(e){var t,c;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("https://konrad-mleczko.herokuapp.com/",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessToken:e.accessToken,userID:e.userID}),credentials:"same-origin",crossorigin:!0});case 3:return t=n.sent,n.next=6,t.json();case 6:200===(c=n.sent).status&&(G.a.set("token",c.token,{expires:1}),W.dispatch({type:"LOGIN"})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}(),handleLogOut:function(){G.a.remove("token"),W.dispatch({type:"LOGOUT"})},handleOnMount:e}}var F=l()(p.a),J=Object(E.g)((function(n){var e=Object(o.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(D.b)((function(n){return n.isAuth})),u=X().handleLogOut,l=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r(!a),n&&u()};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(T,{handleClick:l}),Object(c.jsxs)("div",{className:F(null,{open:a}),children:[Object(c.jsx)(v.c,{className:F("close"),onClick:function(){return l()}}),Object(c.jsxs)("ul",{className:F("ul",{open:a}),children:[Object(c.jsx)(A.b,{className:F("li"),to:{pathname:"/"},onClick:function(){return l()},children:b}),i?Object(c.jsx)(A.b,{className:F("li"),to:{pathname:"/add"},onClick:function(){return l()},children:d}):null,i?Object(c.jsx)(A.b,{className:F("li"),to:{pathname:"/logout"},onClick:function(){return l(!0)},children:x}):Object(c.jsx)(A.b,{className:F("li"),to:{pathname:"/login"},onClick:function(){return l()},children:h}),Object(c.jsx)(A.b,{className:F("li"),to:{pathname:"/policy"},onClick:function(){return l()},children:O}),Object(c.jsx)(A.b,{className:F("li"),to:{pathname:"/rules"},onClick:function(){return l()},children:_})]})]}),Object(c.jsx)(w,{toggleMenu:a,onclick:function(){return l()}})]})})),V=t(33),K=t.n(V),Y=l()(K.a),Z=function(){return Object(c.jsx)(A.b,{to:{pathname:"/add"},children:Object(c.jsx)(v.b,{className:Y()})})},H=function(){return Object(c.jsx)("div",{children:"add"})},Q=t(34),q=t.n(Q),$=(t(52),t(35)),nn=t.n($),en=l()(nn.a),tn=function(){var n=Object(D.b)((function(n){return n.isAuth})),e=X().handleLogIn;return Object(c.jsxs)("div",{className:en(),children:[!n||Object(c.jsx)(E.a,{to:{pathname:"/"}}),Object(c.jsx)("h1",{className:en("h1"),children:m}),Object(c.jsx)("p",{className:en("p"),children:f}),Object(c.jsx)(q.a,{appId:"146225643483574",fields:"name,email,picture",render:function(n){return Object(c.jsxs)("button",{className:en("button"),onClick:n.onClick,children:[Object(c.jsx)(v.a,{className:en("icon")}),Object(c.jsx)("p",{className:en("text"),children:k})]})},callback:function(n){return e(n)}}),Object(c.jsx)("p",{className:en("p"),children:g})]})},cn=function(){return Object(c.jsx)("div",{children:"Page Policy"})},on=function(){return Object(c.jsx)("div",{children:"Rules"})},an=function(){return Object(c.jsx)("div",{children:"Page Maps"})},rn=t(36),sn=t.n(rn),un=l()(sn.a),ln=function(n){var e=n.children;return Object(c.jsx)("div",{className:un(),children:e})},jn=t(20),pn=t(38);var bn=function(n){var e=n.component,t=Object(pn.a)(n,["component"]),o=Object(D.b)((function(n){return n.isAuth}));return console.log(o,"protectedRoute"),Object(c.jsx)(E.b,Object(jn.a)(Object(jn.a)({},t),{},{render:function(n){return o?Object(c.jsx)(e,Object(jn.a)({},n)):Object(c.jsx)(E.a,{to:{pathname:"/login",prevpatchname:n.location.pathname}})}}))},dn=function(){return Object(c.jsx)("div",{children:"Profile"})},hn=function(){return Object(c.jsx)("div",{children:"Nic nie z\u0142owi\u0142e\u015b? - Do zobaczenia"})};var _n=function(){var n=X().handleOnMount;return Object(o.useEffect)((function(){n()}),[n]),Object(c.jsx)(D.a,{store:W,children:Object(c.jsx)(A.a,{basename:"/maps",children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(J,{}),Object(c.jsx)(ln,{children:Object(c.jsxs)(E.d,{children:[Object(c.jsx)(E.b,{path:"/",exact:!0,component:an}),Object(c.jsx)(bn,{path:"/add",exact:!0,component:H}),Object(c.jsx)(bn,{path:"/profile",exact:!0,component:dn}),Object(c.jsx)(E.b,{path:"/logout",component:hn}),Object(c.jsx)(E.b,{path:"/login",exact:!0,component:tn}),Object(c.jsx)(E.b,{path:"/policy",component:cn}),Object(c.jsx)(E.b,{path:"/rules",exact:!0,component:on})]})}),Object(c.jsx)(Z,{})]})})})};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(_n,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.e5de77d2.chunk.js.map